<header id="gh-navigation" class="gh-navigation is-{{#match navigationLayout "Logo on the left"}}left-logo{{else match navigationLayout "Stacked"}}stacked{{else}}middle-logo{{/match}}{{#match @custom.header_and_footer_color "Accent color"}} has-accent-color{{/match}} gh-outer">
    <div class="gh-navigation-inner gh-inner">

        <div class="gh-navigation-brand">
            <a class="gh-navigation-logo is-title" href="{{@site.url}}">
                {{#if @site.logo}}
                    <img src="{{@site.logo}}" alt="{{@site.title}}">
                {{else}}
                    {{@site.title}}
                {{/if}}
            </a>
            {{> "search-toggle"}}
            <button class="gh-burger gh-icon-button" aria-label="Menu">
                {{> "icons/burger"}}
                {{> "icons/close"}}
            </button>
        </div>

        <!-- Navigation menu -->
        <nav class="gh-navigation-menu gh-header-bar">
            {{navigation}}
            {{#unless @site.members_enabled}}
                {{#match navigationLayout "Stacked"}}
                    {{> "search-toggle"}}
                {{/match}}
            {{/unless}}
        </nav>

        <div class="gh-navigation-actions gh-header-bar">
            {{#unless @site.members_enabled}}
                {{^match navigationLayout "Stacked"}}
                    {{> "search-toggle"}}
                {{/match}}
            {{else}}
                {{> "search-toggle"}}
                <div class="gh-navigation-members">
                    {{#unless @member}}
                        {{#unless @site.members_invite_only}}
                            <a class="gh-button" href="#/portal/signin" data-portal="signin">Sign in</a>
                            {{#unless hideSubscribeButton}}
                                <a class="gh-button" href="#/portal/signup" data-portal="signup">Subscribe</a>
                            {{/unless}}
                        {{else}}
                            <a class="gh-button" href="#/portal/signin" data-portal="signin">Sign in</a>
                        {{/unless}}
                    {{else}}
                        <a class="gh-button" href="#/portal/account" data-portal="account">Account</a>
                    {{/unless}}
                </div>
            {{/unless}}
        </div>

    </div>

    <!-- Inline styles for header navigation links -->
    <style>
        /* All links in header except buttons */
        .gh-header-bar a:not(.gh-button) {
            color: inherit;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .gh-header-bar a:not(.gh-button):hover,
        .gh-header-bar a:not(.gh-button):focus {
            color: #1155CC;
            outline: none;
        }

        /* Sign In button (ghost style, theme-adaptive) */
        .gh-header-bar a.gh-button[data-portal="signin"] {
            background-color: transparent !important; /* ghost style */
            border-color: var(--ghost-accent-color) !important; /* preserve border */
            color: var(--color-primary-text) !important; /* theme-adaptive text */
            transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
        }

        .gh-header-bar a.gh-button[data-portal="signin"]:hover,
        .gh-header-bar a.gh-button[data-portal="signin"]:focus {
            color: #1155CC !important; /* hover/focus color */
            background-color: transparent !important; /* ghost style preserved */
            border-color: var(--ghost-accent-color) !important;
            opacity: 0.95 !important;
            outline: none !important;
        }
    </style>
</header>
